## Quote2TS script for TeamSpeak 3 Server.

Набор скриптов, которые позволяют из текста, и шаблона картинки сгенерировать логотип. В данном случае для teamspeak.

Весь функционал написан на баше, с использованием утилит imagemagic,watch,telnet. Все они есть в репозиториях последней убунты.
Файлы и их описание:

* quote2ts - Основной скрипт, где описан весь "движок", и прокомментирован принцип генерации цитат из файла.
* config - как понятно из названия, в нем хранятся все значения переменных, которые используются в скриптах.
* ts_rotate - скрипт для ротации сгенерированных цитат, информативных лого и лого с передачами АллатРа ТВ одновременно добавляя ссылку на передачу.
* quotes_list - база цитат.
 
## Необходимые программы
* imagemagic
* watch
* telnet
* expect
## Принцип работы:
Из пачки цитат рандомно выбирается одна, парсится и обрабатывается, генерятся картинки из текста,
 совмещаются с шаблоном и логотипом (подгоняясь по длинне цитаты и т.п.) и складываются в директорию внутри проекта. На этом этапе цитаты готовы и могут использоваться где угодно.
 Далее можно загрузить их на ftp.
 Запустить `ts_rotate` для циклического показа лого, вместе с подставлеными под них ссылками, в тимспике.

## Чуть подробнее:
Из файла с цитатами берется случайная строчка и записывается в файл.
Проверяет кол-во символов в строке и выбирает подходящий размер шрифта.
Подпись отделяется переносом на новую строку.
Вырезает и выводит подпись в отдельный файл.
Парсит и чистит цитату и подпись.
Генерирует изображение текста подписи.
Генерирует изображение текста цитаты
Накладывает красную волну и шаблон логотипа
Накладывает картинку текста на лого (уже с волной)
Накладывает картинку подписи на лого
Склеивает готовый логотип и фото
Обрисовывает вокруг всего черную рамку в 1 пиксель (на сейчас)
Другой скрипт соединяется по FTP и передает файл на сервер, с которого его берет сам тимспик.
Другой скрипт заходит по телнету на ServerQuery и меняет параметры тимспик сервера, а именно ссылку на новое имя файла с фтп.
